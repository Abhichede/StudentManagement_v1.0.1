<!-- Square card -->

<div class="mdl-grid mdl-cell mdl-cell--12-col">
  <div class="mdl-cell mdl-cell--4-col">
    <h3 class="mdl-typography--text-center">Students</h3>
  </div>
  <div class="mdl-cell mdl-cell--4-col" style="padding-top: 20px !important; float: right !important;">
    <form action="<%= students_path %>" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input class="mdl-textfield__input" type="text" id="filter_by_query" name="query">
        <label class="mdl-textfield__label" for="filter_by_query">Search</label>
      </div>
    </form>
  </div>

  <div class="mdl-cell mdl-cell--4-col">
    <div class="mdl-typography--text-center" style="padding-top: 20px !important;">
      <%= link_to 'New Student', new_student_path, class: 'mdl-button mdl-js-button mdl-button--raised mdl-button--colored' %>
    </div>
  </div>
</div>

  <div class="mdl-cell mdl-cell--1-col">
  <div class="mdl-layout-spacer"></div>
</div>
<div class="mdl-cell mdl-cell--10-col">
  <div class="mdl-grid">
    <% if @students.blank? %>
        <div class="mdl-cell mdl-cell--4-col">
          <div class="demo-card-square mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title mdl-card--expand">
              <h2 class="mdl-card__title-text ">
                Nothing Found
              </h2>
            </div>
          </div>
        </div>
    <% else%>
      <% @students.each do |student| %>
        <div class="mdl-cell mdl-cell--4-col">
          <div class="demo-card-square mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title mdl-card--expand" style="height: 7rem; overflow: auto">
              <h2 class="mdl-card__title-text">
                <%= student.first_name %> <%= student.last_name %> <br/>(<%= student.student_class %> <%= student.division %>)
              </h2>
            </div>
            <div class="mdl-card__supporting-text" style="height: 16rem; overflow: auto">
              <ul class="demo-list-item mdl-list">
                <li class="mdl-list__item mdl-list__item--three-line" >
                  <span class="mdl-list__item-primary-content">
                    <span>Mobile No's</span>
                    <span class="mdl-list__item-text-body">
                      <%= student.mobile_no %><br/>
                      <%= student.alternate_mobile %>
                    </span>
                  </span>
                </li>
                <li class="mdl-list__item mdl-list__item--two-line">
                  <span class="mdl-list__item-primary-content">
                    <span>Balance Amount</span>
                    <span class="mdl-list__item-sub-title">
                      &#8377; <%= number_to_indian_currency((student.allocated_fee.to_f - student.discount.to_f) - student.total_paid.to_f) %>
                    </span>
                  </span>
                </li>
              </ul>
            </div>
            <div class="mdl-card__actions mdl-card--border">
              <%= link_to student,
                          class: 'mdl-button mdl-js-button mdl-button--icon' do %>
                  <i class="material-icons" id='tt_show_<%= student.id %>'>pageview</i>
              <% end %>
              <%= link_to edit_student_path(student),
                          class: 'mdl-button mdl-js-button mdl-button--icon' do %>
                  <i class="material-icons" id='tt_edit_<%= student.id %>' >mode_edit</i>
              <% end %>
              <%= link_to student, method: :delete, data: { confirm: 'Are you sure?' },
                          class: 'mdl-button mdl-js-button mdl-button--icon' do %>
                  <i class="material-icons" id='tt_delete_<%= student.id %>'>delete</i>
              <% end %>
              <%= link_to 'Pay Fee',  {controller: 'student_fees', action: 'new', student_id: student.id}, class: 'mdl-button mdl-js-button mdl-button--accent' %>
            </div>
          </div>
        </div>
        <div class="mdl-tooltip" data-mdl-for="tt_show_<%= student.id %>">
          <strong>View Student</strong>
        </div>
        <div class="mdl-tooltip" data-mdl-for="tt_edit_<%= student.id %>">
          <strong>Edit Student</strong>
        </div>
        <div class="mdl-tooltip" data-mdl-for="tt_delete_<%= student.id %>">
          <strong>Delete Student</strong>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
<div class="mdl-cell mdl-cell--1-col">
  <div class="mdl-layout-spacer"></div>
</div>